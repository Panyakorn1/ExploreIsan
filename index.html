<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô | Currency Converter</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Sarabun', sans-serif;
      background-color: #f4f6f8;
      margin: 0;
      padding: 0;
    }
    .header {
      background-color: #1a237e;
      color: white;
      padding: 20px;
      text-align: center;
    }
    .container {
      max-width: 900px;
      margin: auto;
      background: #ffffff;
      padding: 30px;
      margin-top: 30px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    h2 {
      color: #1a237e;
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    button {
      margin-top: 20px;
      width: 100%;
      padding: 12px;
      background-color: #1a237e;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
    }
    button:hover {
      background-color: #0d1b6b;
    }
    #result {
      margin-top: 20px;
      font-size: 18px;
      text-align: center;
      color: #2e7d32;
    }
    canvas {
      margin-top: 40px;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô</h1>
    <p>‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô‡πÇ‡∏ã‡∏ô‡πÄ‡∏≠‡πÄ‡∏ä‡∏µ‡∏¢ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á 5 ‡∏õ‡∏µ</p>
  </div>

  <div class="container">
    <h2>üîÅ ‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô</h2>
    <label for="amount">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</label>
    <input type="number" id="amount" placeholder="‡πÄ‡∏ä‡πà‡∏ô 100" required>

    <label for="from">‡∏à‡∏≤‡∏Å‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô</label>
    <select id="from"></select>

    <label for="to">‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô</label>
    <select id="to"></select>

    <button onclick="convertCurrency()">‡πÅ‡∏õ‡∏•‡∏á‡∏Ñ‡πà‡∏≤</button>
    <div id="result"></div>

    <h2>üìä ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á 5 ‡∏õ‡∏µ (‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö USD)</h2>
    <canvas id="currencyChart" width="800" height="400"></canvas>
  </div>

  <script>
    const asianCurrencies = {
      "THB": "‡∏ö‡∏≤‡∏ó‡πÑ‡∏ó‡∏¢",
      "JPY": "‡πÄ‡∏¢‡∏ô‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô",
      "CNY": "‡∏´‡∏¢‡∏ß‡∏ô‡∏à‡∏µ‡∏ô",
      "KRW": "‡∏ß‡∏≠‡∏ô‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ",
      "INR": "‡∏£‡∏π‡∏õ‡∏µ‡∏≠‡∏¥‡∏ô‡πÄ‡∏î‡∏µ‡∏¢",
      "SGD": "‡∏î‡∏≠‡∏•‡∏•‡∏≤‡∏£‡πå‡∏™‡∏¥‡∏á‡∏Ñ‡πÇ‡∏õ‡∏£‡πå",
      "MYR": "‡∏£‡∏¥‡∏á‡∏Å‡∏¥‡∏ï‡∏°‡∏≤‡πÄ‡∏•‡πÄ‡∏ã‡∏µ‡∏¢",
      "PHP": "‡πÄ‡∏õ‡πÇ‡∏ã‡∏ü‡∏¥‡∏•‡∏¥‡∏õ‡∏õ‡∏¥‡∏ô‡∏™‡πå",
      "VND": "‡∏î‡∏≠‡∏á‡πÄ‡∏ß‡∏µ‡∏¢‡∏î‡∏ô‡∏≤‡∏°",
      "IDR": "‡∏£‡∏π‡πÄ‡∏õ‡∏µ‡∏¢‡∏≠‡∏¥‡∏ô‡πÇ‡∏î‡∏ô‡∏µ‡πÄ‡∏ã‡∏µ‡∏¢",
      "HKD": "‡∏î‡∏≠‡∏•‡∏•‡∏≤‡∏£‡πå‡∏Æ‡πà‡∏≠‡∏á‡∏Å‡∏á",
      "BND": "‡∏î‡∏≠‡∏•‡∏•‡∏≤‡∏£‡πå‡∏ö‡∏£‡∏π‡πÑ‡∏ô",
      "MMK": "‡∏à‡πä‡∏≤‡∏î‡∏û‡∏°‡πà‡∏≤",
      "LAK": "‡∏Å‡∏µ‡∏ö‡∏•‡∏≤‡∏ß",
      "BTN": "‡∏á‡∏∏‡∏•‡∏ï‡∏£‡∏±‡∏°‡∏†‡∏π‡∏è‡∏≤‡∏ô",
      "KGS": "‡∏ã‡∏≠‡∏°‡∏Ñ‡∏µ‡∏£‡πå‡∏Å‡∏µ‡∏ã‡∏™‡∏ñ‡∏≤‡∏ô",
      "MNT": "‡∏ó‡∏π‡∏Å‡∏£‡∏¥‡∏Å‡∏°‡∏≠‡∏á‡πÇ‡∏Å‡πÄ‡∏•‡∏µ‡∏¢"
    };

    const fromSelect = document.getElementById("from");
    const toSelect = document.getElementById("to");

    for (const code in asianCurrencies) {
      const optionFrom = document.createElement("option");
      optionFrom.value = code;
      optionFrom.textContent = `${code} - ${asianCurrencies[code]}`;
      fromSelect.appendChild(optionFrom);

      const optionTo = document.createElement("option");
      optionTo.value = code;
      optionTo.textContent = `${code} - ${asianCurrencies[code]}`;
      toSelect.appendChild(optionTo);
    }

    async function convertCurrency() {
      const amount = document.getElementById("amount").value;
      const from = fromSelect.value;
      const to = toSelect.value;

      if (!amount || isNaN(amount)) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
        return;
      }

      const url = `https://api.exchangerate.host/convert?from=${from}&to=${to}&amount=${amount}`;
      try {
        const response = await fetch(url);
        const data = await response.json();
        const result = data.result.toFixed(2);
        document.getElementById("result").innerText = `${amount} ${from} = ${result} ${to}`;
      } catch (error) {
        document.getElementById("result").innerText = "‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô";
      }
    }

    async function loadChart() {
      const currencies = ["THB", "JPY", "CNY", "KRW", "INR"];
      const labels = [];
      const datasets = [];

      const today = new Date();
      for (let i = 0; i < 5; i++) {
        const year = today.getFullYear() - i;
        labels.unshift(year.toString());
      }

      for (const currency of currencies) {
        const dataPoints = [];
        for (const year of labels) {
          const date = `${year}-01-01`;
          const url = `https://api.exchangerate.host/${date}?base=${currency}&symbols=USD`;
          const response = await fetch(url);
          const data = await response.json();
          const rate = data.rates?.USD || 0;
          dataPoints.push(rate);
        }

        datasets.push({
          label: `${currency} ‚Üí USD`,
          data: dataPoints,
          fill: false,
          borderColor: getRandomColor(),
          tension: 0.1
        });
      }

      new Chart(document.getElementById("currencyChart"), {
        type: 'line',
        data: {
          labels: labels,
          datasets: datasets
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'bottom'
            },
            title: {
              display: true,
              text: '‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö USD (‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á 5 ‡∏õ‡∏µ)'
            }
          }
        }
      });
    }

    function getRandomColor() {
      const colors = ["#1a237e", "#c62828", "#2e7d32", "#f9a825", "#6a1b9a"];
      return colors[Math.floor(Math.random() * colors.length)];
    }

    loadChart();
  </script>
</body>
</html>
